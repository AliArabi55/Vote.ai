# ๐ ุฏููู ุฅุนุฏุงุฏ ุงูุจููุฉ ุงูุชุญุชูุฉ ุนูู Azure
## ููุตุฉ ุตูุช ุงูุณูุฑุงุก - ุงูุฅุนุฏุงุฏ ุงููุงูู ููุจููุฉ ุงูุชุญุชูุฉ

ุณูุฑุดุฏู ูุฐุง ุงูุฏููู ุฎุทูุฉ ุจุฎุทูุฉ ูุฅุนุฏุงุฏ ุฌููุน ููุงุฑุฏ Azure ุงููุทููุจุฉ ูููุตุฉ Vote.ai.

---

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

ูุจู ุฃู ุชุจุฏุฃุ ุชุฃูุฏ ูู ุชููุฑ:
- โ **ุงุดุชุฑุงู Azure ูุดุท** ([ุฅูุดุงุก ุญุณุงุจ ูุฌุงูู](https://azure.microsoft.com/free/))
- โ ุงููุตูู ุฅูู **ุจูุงุจุฉ Azure** (https://portal.azure.com)
- โ **ุนููุงู IP ุงูุนุงู** ูุฌูุงุฒู ุงููุญูู (ูู ุจุฒูุงุฑุฉ https://whatismyipaddress.com)

---

## ๐๏ธ ุงูุฌุฒุก ุงูุฃูู: ุฅูุดุงุก ูุฌููุนุฉ ููุงุฑุฏ (Resource Group)

ูุฌููุนุฉ ุงูููุงุฑุฏ ูู ุญุงููุฉ ุชุญุชูู ุนูู ููุงุฑุฏ Azure ุฐุงุช ุงูุตูุฉ.

### ุงูุฎุทูุงุช:

1. **ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุจูุงุจุฉ Azure**
   - ุงูุชูู ุฅูู: https://portal.azure.com
   - ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ Microsoft ุงูุฎุงุต ุจู

2. **ุฅูุดุงุก ูุฌููุนุฉ ููุงุฑุฏ**
   - ุงููุฑ ุนูู **"Create a resource"** (ุฅูุดุงุก ููุฑุฏ) ูู ุงูุฒุงููุฉ ุงูุนูููุฉ ุงููุณุฑู
   - ุงุจุญุซ ุนู **"Resource Group"** (ูุฌููุนุฉ ููุงุฑุฏ)
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)

3. **ุชูููู ูุฌููุนุฉ ุงูููุงุฑุฏ**
   - **Subscription** (ุงูุงุดุชุฑุงู): ุงุฎุชุฑ ุงุดุชุฑุงูู
   - **Resource group name** (ุงุณู ูุฌููุนุฉ ุงูููุงุฑุฏ): `vote-ai-resources` (ุฃู ุฃู ุงุณู ุชูุถูู)
   - **Region** (ุงูููุทูุฉ): ุงุฎุชุฑ ุงูุฃูุฑุจ ุฅููู (ูุซู `East US`ุ `West Europe`ุ `Southeast Asia`)
   - ุงููุฑ ุนูู **"Review + create"** (ูุฑุงุฌุนุฉ + ุฅูุดุงุก)
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)

โ **ุงููุชูุฌุฉ**: ูุฏูู ุงูุขู ูุฌููุนุฉ ููุงุฑุฏ ูุชูุธูู ุฌููุน ููุงุฑุฏู.

---

## ๐ ุงูุฌุฒุก ุงูุซุงูู: ุฅูุดุงุก Azure Database for PostgreSQL - Flexible Server

### ุงูุฎุทูุฉ 2.1: ุฅูุดุงุก ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. **ุงูุงูุชูุงู ุฅูู ุฅูุดุงุก ููุฑุฏ**
   - ุงููุฑ ุนูู **"Create a resource"** (ุฅูุดุงุก ููุฑุฏ)
   - ุงุจุญุซ ุนู **"Azure Database for PostgreSQL"**
   - ุงุฎุชุฑ **"Azure Database for PostgreSQL Flexible Server"**
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)

2. **ุชูููู ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ**
   - **Subscription** (ุงูุงุดุชุฑุงู): ุงุดุชุฑุงูู
   - **Resource group** (ูุฌููุนุฉ ุงูููุงุฑุฏ): ุงุฎุชุฑ `vote-ai-resources` (ุงูุชู ุฃูุดุฃุชูุง ุณุงุจูุงู)
   - **Server name** (ุงุณู ุงูุฎุงุฏู): `vote-ai-db-server` (ูุฌุจ ุฃู ูููู ูุฑูุฏุงู ุนุงูููุงูุ ุฃุถู ุงูุฃุญุฑู ุงูุฃููู ูู ุงุณูู ุฅุฐุง ูุฒู ุงูุฃูุฑ)
   - **Region** (ุงูููุทูุฉ): ููุณ ููุทูุฉ ูุฌููุนุฉ ุงูููุงุฑุฏ
   - **PostgreSQL version** (ุฅุตุฏุงุฑ PostgreSQL): `16` (ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุณุชูุฑ)
   - **Workload type** (ููุน ุนุจุก ุงูุนูู): ุงุฎุชุฑ **"Development"** (ุงูุชุทููุฑ - ุฃุฑุฎุต ููุงุฎุชุจุงุฑ)

3. **ุชูููู ุญุณุงุจ ุงููุณุคูู**
   - **Admin username** (ุงุณู ูุณุชุฎุฏู ุงููุณุคูู): `voteadmin` (ุชุฐูุฑ ูุฐุง!)
   - **Password** (ูููุฉ ุงููุฑูุฑ): ุฃูุดุฆ ูููุฉ ูุฑูุฑ ูููุฉ (8 ุฃุญุฑู ุนูู ุงูุฃููุ ูุฒูุฌ ูู ุงูุฃุญุฑู ุงููุจูุฑุฉ/ุงูุตุบูุฑุฉ/ุงูุฃุฑูุงู/ุงูุฑููุฒ)
   - **Confirm password** (ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ): ุฃุนุฏ ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ
   
   โ๏ธ **ููู ุฌุฏุงู**: ุงูุชุจ ูุฐู ุงูุจูุงูุงุช! ุณุชุญุชุงุฌูุง ูู ููู `.env` ุงูุฎุงุต ุจู.

4. **ุชูููู ุงูุญูุณุจุฉ + ุงูุชุฎุฒูู**
   - ุงููุฑ ุนูู **"Configure server"** (ุชูููู ุงูุฎุงุฏู)
   - **Compute tier** (ุทุจูุฉ ุงูุญูุณุจุฉ): ุงุฎุชุฑ **"Burstable"** (B1ms - ุงูุฎูุงุฑ ุงูุฃุฑุฎุต)
   - **Storage** (ุงูุชุฎุฒูู): `32 GiB` (ุงูุญุฏ ุงูุฃุฏูู)
   - **Backup retention** (ุงูุงุญุชูุงุธ ุจุงููุณุฎ ุงูุงุญุชูุงุทูุฉ): `7 days` (7 ุฃูุงู)
   - ุงููุฑ ุนูู **"Save"** (ุญูุธ)

5. **ุชูููู ุงูุดุจูุฉ**
   - ุงููุฑ ุนูู **"Next: Networking"** (ุงูุชุงูู: ุงูุดุจูุงุช)
   - **Connectivity method** (ุทุฑููุฉ ุงูุงุชุตุงู): ุงุฎุชุฑ **"Public access (allowed IP addresses)"** (ุงููุตูู ุงูุนุงู - ุนูุงููู IP ุงููุณููุญ ุจูุง)
   - ุชุญุช **Firewall rules** (ููุงุนุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ)ุ ุงููุฑ ุนูู **"+ Add current client IP address"** (ุฅุถุงูุฉ ุนููุงู IP ุงูุญุงูู ููุนููู)
   - ุณูุชู ุฅุถุงูุฉ ุนููุงู IP ุงูุฎุงุต ุจู ุชููุงุฆูุงู (ูุซู `203.0.113.45`)
   
   ๐ **ููุงุญุธุฉ**: ููููู ุฃูุถุงู ุฅุถุงูุฉ ูุทุงูุงุช IP ูุฏููุงู:
   - **Rule name** (ุงุณู ุงููุงุนุฏุฉ): `MyLocalMachine`
   - **Start IP** (IP ุงูุจุฏุงูุฉ): ุนููุงู IP ุงูุนุงู ุงูุฎุงุต ุจู (ูู https://whatismyipaddress.com)
   - **End IP** (IP ุงูููุงูุฉ): ููุณ ุนููุงู IP ุงูุจุฏุงูุฉ
   
   - โ ุถุน ุนูุงูุฉ ุนูู **"Allow public access from any Azure service within Azure to this server"** (ุงูุณูุงุญ ุจุงููุตูู ุงูุนุงู ูู ุฃู ุฎุฏูุฉ Azure ุฏุงุฎู Azure ุฅูู ูุฐุง ุงูุฎุงุฏู) - ูููุดุฑ ุงููุณุชูุจูู ุนูู Azure

6. **ุงููุฑุงุฌุนุฉ ูุงูุฅูุดุงุก**
   - ุงููุฑ ุนูู **"Review + create"** (ูุฑุงุฌุนุฉ + ุฅูุดุงุก)
   - ุฑุงุฌุน ุงูุชูููู ุงูุฎุงุต ุจู
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)
   - โฑ๏ธ **ุงูุชุธุฑ 5-10 ุฏูุงุฆู** ุญุชู ููุชูู ุงููุดุฑ

### ุงูุฎุทูุฉ 2.2: ุชูุนูู ุงูุชุฏุงุฏ pgvector

1. **ุงูุงูุชูุงู ุฅูู ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุต ุจู**
   - ุงูุชูู ุฅูู **"All resources"** (ุฌููุน ุงูููุงุฑุฏ)
   - ุงููุฑ ุนูู ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุต ุจู `vote-ai-db-server`

2. **ุชูุนูู ุงูุงูุชุฏุงุฏุงุช**
   - ูู ุงููุงุฆูุฉ ุงููุณุฑูุ ุชุญุช **Settings** (ุงูุฅุนุฏุงุฏุงุช)ุ ุงููุฑ ุนูู **"Server parameters"** (ูุนููุงุช ุงูุฎุงุฏู)
   - ูู ูุฑุจุน ุงูุจุญุซุ ุงูุชุจ: `azure.extensions`
   - ุงุจุญุซ ุนู ุงููุนููุฉ **`azure.extensions`**
   - ุงููุฑ ุนูู **"Edit"** (ุชุญุฑูุฑ - ุฃููููุฉ ุงูููู)
   - ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉุ ุงุฎุชุฑ **`VECTOR`** (ูู ุจุงูุชูุฑูุฑ ูุฃุณูู ููุนุซูุฑ ุนูููุง)
   - ุงููุฑ ุนูู **"Save"** (ุญูุธ) ูู ุงูุฃุนูู
   - โฑ๏ธ ุงูุชุธุฑ 1-2 ุฏูููุฉ ุญุชู ูุนูุฏ ุงูุฎุงุฏู ุงูุชุดุบูู

### ุงูุฎุทูุฉ 2.3: ุงูุญุตูู ุนูู ุณูุณูุฉ ุงูุงุชุตุงู

1. **ุงูุญุตูู ุนูู ุชูุงุตูู ุงูุงุชุตุงู**
   - ูุง ุชุฒุงู ูู ุตูุญุฉ ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูู ุงููุงุฆูุฉ ุงููุณุฑูุ ุงููุฑ ุนูู **"Overview"** (ูุธุฑุฉ ุนุงูุฉ)
   - ุฏููู ูุฐู ุงูููู:

   ```
   Server name: vote-ai-db-server.postgres.database.azure.com
   Admin username: voteadmin
   Password: [ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจู ูู ุงูุฎุทูุฉ 2.1]
   Database name: postgres (ุงูุชุฑุงุถู)
   Port: 5432
   ```

2. **ุจูุงุก ุณูุณูุฉ ุงูุงุชุตุงู ุงูุฎุงุตุฉ ุจู**
   
   ุงูุตูุบุฉ:
   ```
   postgresql://USERNAME:PASSWORD@SERVER_NAME.postgres.database.azure.com:5432/postgres?sslmode=require
   ```

   ูุซุงู:
   ```
   postgresql://voteadmin:MyStr0ngP@ss!@vote-ai-db-server.postgres.database.azure.com:5432/postgres?sslmode=require
   ```

   โ๏ธ **ููู ุฌุฏุงู**: 
   - ุงุณุชุจุฏู `USERNAME` ุจุงุณู ูุณุชุฎุฏู ุงููุณุคูู ุงูุฎุงุต ุจู
   - ุงุณุชุจุฏู `PASSWORD` ุจูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจู (ูู ุจุชุฑููุฒ ุงูุฃุญุฑู ุงูุฎุงุตุฉ ุจุชูุณูู URL ุฅุฐุง ูุฒู ุงูุฃูุฑ)
   - ุงุณุชุจุฏู `SERVER_NAME` ุจุงุณู ุงูุฎุงุฏู ุงููุนูู ุงูุฎุงุต ุจู
   - ุงุญุชูุธ ุจู `?sslmode=require` ูู ุงูููุงูุฉ (Azure ูุชุทูุจ SSL)

3. **ุงูุญูุธ ูู ููู .env**
   
   ุฃุถู ูุฐุง ุฅูู `backend/.env`:
   ```ini
   DATABASE_URL=postgresql://voteadmin:YourPassword@vote-ai-db-server.postgres.database.azure.com:5432/postgres?sslmode=require
   ```

### ุงูุฎุทูุฉ 2.4: ุงุฎุชุจุงุฑ ุงูุงุชุตุงู (ุงุฎุชูุงุฑู)

ุฅุฐุง ูุงู ูุฏูู `psql` ูุซุจุช ูุญููุงู:

```powershell
psql "postgresql://voteadmin:YourPassword@vote-ai-db-server.postgres.database.azure.com:5432/postgres?sslmode=require"
```

ุฅุฐุง ูุฌุญุ ุณุชุฑู:
```
SSL connection (protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: 256, compression: off)
Type "help" for help.

postgres=>
```

ุงูุชุจ `\q` ููุฎุฑูุฌ.

---

## ๐ค ุงูุฌุฒุก ุงูุซุงูุซ: ุฅูุดุงุก ููุฑุฏ Azure OpenAI

### ุงูุฎุทูุฉ 3.1: ุฅูุดุงุก ุฎุฏูุฉ Azure OpenAI

1. **ุงูุงูุชูุงู ุฅูู ุฅูุดุงุก ููุฑุฏ**
   - ุงููุฑ ุนูู **"Create a resource"** (ุฅูุดุงุก ููุฑุฏ)
   - ุงุจุญุซ ุนู **"Azure OpenAI"**
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)

2. **ุชูููู ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ**
   - **Subscription** (ุงูุงุดุชุฑุงู): ุงุดุชุฑุงูู
   - **Resource group** (ูุฌููุนุฉ ุงูููุงุฑุฏ): ุงุฎุชุฑ `vote-ai-resources`
   - **Region** (ุงูููุทูุฉ): ุงุฎุชุฑ ููุทูุฉ ุชุฏุนู Azure OpenAI:
     - โ **East US** (ุดุฑู ุงูููุงูุงุช ุงููุชุญุฏุฉ - ููุตู ุจู)
     - โ **East US 2** (ุดุฑู ุงูููุงูุงุช ุงููุชุญุฏุฉ 2)
     - โ **West Europe** (ุบุฑุจ ุฃูุฑูุจุง)
     - โ **Sweden Central** (ูุณุท ุงูุณููุฏ)
     - โ๏ธ ููุณุช ูู ุงูููุงุทู ุชุฏุนู ุฌููุน ุงูููุงุฐุฌ - East US ูู ุงูุฎูุงุฑ ุงูุฃูุซุฑ ุฃูุงูุงู
   - **Name** (ุงูุงุณู): `vote-ai-openai` (ูุฌุจ ุฃู ูููู ูุฑูุฏุงู ุนุงูููุงู)
   - **Pricing tier** (ุทุจูุฉ ุงูุชุณุนูุฑ): ุงุฎุชุฑ **"Standard S0"**

3. **ุชูููู ุงูุดุจูุฉ**
   - ุงููุฑ ุนูู **"Next: Network"** (ุงูุชุงูู: ุงูุดุจูุฉ)
   - **Network security** (ุฃูุงู ุงูุดุจูุฉ): ุงุฎุชุฑ **"All networks, including the internet, can access this resource"** (ุฌููุน ุงูุดุจูุงุชุ ุจูุง ูู ุฐูู ุงูุฅูุชุฑูุชุ ูููููุง ุงููุตูู ุฅูู ูุฐุง ุงูููุฑุฏ)
   - (ููุฅูุชุงุฌุ ุณุชููุฏ ูุฐุงุ ูููู ููุชุทููุฑ ูุฐุง ุฌูุฏ)

4. **ุงููุฑุงุฌุนุฉ ูุงูุฅูุดุงุก**
   - ุงููุฑ ุนูู **"Next: Tags"** (ุงูุชุงูู: ุงูุนูุงูุงุช) - ุชุฎุทู ุงูุนูุงูุงุช ุงูุขู
   - ุงููุฑ ุนูู **"Next: Review + submit"** (ุงูุชุงูู: ูุฑุงุฌุนุฉ + ุฅุฑุณุงู)
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)
   - โฑ๏ธ **ุงูุชุธุฑ 2-3 ุฏูุงุฆู** ุญุชู ููุชูู ุงููุดุฑ

### ุงูุฎุทูุฉ 3.2: ูุดุฑ ูููุฐุฌ text-embedding-3-small

1. **ุงูุงูุชูุงู ุฅูู Azure OpenAI Studio**
   - ุจุนุฏ ุงูุชูุงู ุงููุดุฑุ ุงููุฑ ุนูู **"Go to resource"** (ุงูุงูุชูุงู ุฅูู ุงูููุฑุฏ)
   - ุงููุฑ ุนูู ุงูุฒุฑ **"Go to Azure OpenAI Studio"** (ุงูุงูุชูุงู ุฅูู Azure OpenAI Studio) ุฃู ูู ุจุฒูุงุฑุฉ https://oai.azure.com/
   - ุณุฌู ุงูุฏุฎูู ุฅุฐุง ุทููุจ ููู ุฐูู

2. **ูุดุฑ ูููุฐุฌ ุงูุชุถููู (Embedding)**
   - ูู Azure OpenAI Studioุ ุงููุฑ ุนูู **"Deployments"** (ุนูููุงุช ุงููุดุฑ) ูู ุงููุงุฆูุฉ ุงููุณุฑู
   - ุงููุฑ ุนูู **"+ Create new deployment"** (+ ุฅูุดุงุก ูุดุฑ ุฌุฏูุฏ)
   
   ุงูุชูููู:
   - **Select a model** (ุงุฎุชุฑ ูููุฐุฌุงู): ุงุฎุชุฑ **"text-embedding-3-small"**
   - **Model version** (ุฅุตุฏุงุฑ ุงููููุฐุฌ): ุงุฎุชุฑ **"1"** (ุฃู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุชุงุญ)
   - **Deployment name** (ุงุณู ุงููุดุฑ): `text-embedding-3-small` (ุงุณุชุฎุฏู ูุฐุง ุงูุงุณู ุจุงูุถุจุท - ุงูููุฏ ุงูุฎุงุต ุจู ูุชููุนู)
   - **Deployment type** (ููุน ุงููุดุฑ): **"Standard"**
   - **Tokens per Minute Rate Limit** (ุญุฏ ูุนุฏู ุงูุฑููุฒ ูู ุงูุฏูููุฉ): `120K` (ุงูุงูุชุฑุงุถู ุฌูุฏ)
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)

   โ ุชู ูุดุฑ ุงููููุฐุฌ ุจูุฌุงุญ!

### ุงูุฎุทูุฉ 3.3: ูุดุฑ ูููุฐุฌ gpt-4o-mini (ุงุฎุชูุงุฑู - ููููุฒุงุช ุงููุณุชูุจููุฉ)

1. **ุฅูุดุงุก ูุดุฑ ุซุงูู**
   - ูุง ุชุฒุงู ูู **"Deployments"** (ุนูููุงุช ุงููุดุฑ)
   - ุงููุฑ ุนูู **"+ Create new deployment"** (+ ุฅูุดุงุก ูุดุฑ ุฌุฏูุฏ) ูุฑุฉ ุฃุฎุฑู
   
   ุงูุชูููู:
   - **Select a model** (ุงุฎุชุฑ ูููุฐุฌุงู): ุงุฎุชุฑ **"gpt-4o-mini"**
   - **Model version** (ุฅุตุฏุงุฑ ุงููููุฐุฌ): ุงุฎุชุฑ **"2024-07-18"** (ุฃู ุงูุฃุญุฏุซ)
   - **Deployment name** (ุงุณู ุงููุดุฑ): `gpt-4o-mini`
   - **Tokens per Minute Rate Limit** (ุญุฏ ูุนุฏู ุงูุฑููุฒ ูู ุงูุฏูููุฉ): `150K`
   - ุงููุฑ ุนูู **"Create"** (ุฅูุดุงุก)

   โ ุชู ูุดุฑ ููุง ุงููููุฐุฌูู ุงูุขู!

### ุงูุฎุทูุฉ 3.4: ุงูุญุตูู ุนูู ููุงุชูุญ API ูููุทุฉ ุงูููุงูุฉ

1. **ุงูุญุตูู ุนูู ุนููุงู URL ูููุทุฉ ุงูููุงูุฉ**
   - ุงุฑุฌุน ุฅูู **ุจูุงุจุฉ Azure** (portal.azure.com)
   - ุงูุชูู ุฅูู **"All resources"** (ุฌููุน ุงูููุงุฑุฏ)
   - ุงููุฑ ุนูู ููุฑุฏ OpenAI ุงูุฎุงุต ุจู: `vote-ai-openai`
   - ูู ุงููุงุฆูุฉ ุงููุณุฑูุ ุงููุฑ ุนูู **"Keys and Endpoint"** (ุงูููุงุชูุญ ูููุทุฉ ุงูููุงูุฉ)
   
   ุณุชุฑู:
   - **Endpoint** (ููุทุฉ ุงูููุงูุฉ): `https://vote-ai-openai.openai.azure.com/`
   - **Key 1** (ุงูููุชุงุญ 1): `abc123def456...` (ุณูุณูุฉ ุทูููุฉ)
   - **Key 2** (ุงูููุชุงุญ 2): `xyz789uvw012...` (ููุชุงุญ ุงุญุชูุงุทู)

2. **ูุณุฎ ุงูููู**
   - **Endpoint** (ููุทุฉ ุงูููุงูุฉ): ุงูุณุฎ ุนููุงู URL ุงููุงูู (ููุชูู ุจู `.openai.azure.com/`)
   - **Key 1** (ุงูููุชุงุญ 1): ุงููุฑ ุนูู **"Show Key"** (ุฅุธูุงุฑ ุงูููุชุงุญ) โ ุงููุฑ ุนูู ุฃููููุฉ **"Copy"** (ูุณุฎ)
   
   โ๏ธ **ููู ุฌุฏุงู**: ุญุงูุธ ุนูู ุณุฑูุฉ ูุฐู ุงูุจูุงูุงุช! ูุง ุชุฑูุนูุง ุฅูู Git.

3. **ุฅุถุงูุฉ ุฅูู ููู .env**
   
   ุฃุถู ูุฐู ุงูุณุทูุฑ ุฅูู `backend/.env`:
   ```ini
   AZURE_OPENAI_API_KEY=your-key-1-here
   AZURE_OPENAI_ENDPOINT=https://vote-ai-openai.openai.azure.com/
   AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-3-small
   AZURE_OPENAI_CHAT_MODEL=gpt-4o-mini
   ```

### ุงูุฎุทูุฉ 3.5: ุงูุชุญูู ูู ุงููุดุฑ ูู Azure OpenAI Studio

1. **ุงุฎุชุจุงุฑ ูููุฐุฌ ุงูุชุถููู**
   - ุงูุชูู ุฅูู **Azure OpenAI Studio** (https://oai.azure.com/)
   - ุงููุฑ ุนูู **"Deployments"** (ุนูููุงุช ุงููุดุฑ)
   - ูุฌุจ ุฃู ุชุฑู ููุง ุงููููุฐุฌูู:
     - โ `text-embedding-3-small` - **ุงูุญุงูุฉ: ูุฌุญ (Succeeded)**
     - โ `gpt-4o-mini` - **ุงูุญุงูุฉ: ูุฌุญ (Succeeded)**

2. **ุงุฎุชูุงุฑู: ุงูุงุฎุชุจุงุฑ ูู Playground**
   - ุงููุฑ ุนูู **"Chat"** (ุงูุฏุฑุฏุดุฉ) ูู ุงููุงุฆูุฉ ุงููุณุฑู
   - ุงุฎุชุฑ ุงููุดุฑ: `gpt-4o-mini`
   - ุงูุชุจ: "Hello, are you working?"
   - ุงููุฑ ุนูู **Send** (ุฅุฑุณุงู)
   - ุฅุฐุง ุญุตูุช ุนูู ุฑุฏุ ูู ุดูุก ูุนูู! โ

---

## ๐ ุงูุฌุฒุก ุงูุฑุงุจุน: ุงูุชูููู ุงูููุงุฆู ูููู .env

### ูุงูุจ ููู .env ุงููุงูู

ุฃูุดุฆ/ุญุฏูุซ `backend/.env` ุจุฌููุน ุงูููู:

```ini
# ุชูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
DATABASE_URL=postgresql://voteadmin:YourPassword@vote-ai-db-server.postgres.database.azure.com:5432/postgres?sslmode=require

# ุชูููู Azure OpenAI
AZURE_OPENAI_API_KEY=abc123def456xyz789uvw012...
AZURE_OPENAI_ENDPOINT=https://vote-ai-openai.openai.azure.com/
AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-3-small
AZURE_OPENAI_CHAT_MODEL=gpt-4o-mini

# ููุชุงุญ JWT ุงูุณุฑู (ุฃูุดุฆ ููุชุงุญุงู ุนุดูุงุฆูุงู)
SECRET_KEY=your-random-secret-key-here

# ุงูุจูุฆุฉ
ENVIRONMENT=development
```

### ุชูููุฏ SECRET_KEY

ูู ุจุชุดุบูู ูุฐุง ุงูุฃูุฑ ูู PowerShell ูุชูููุฏ ููุชุงุญ ุนุดูุงุฆู ุขูู:

```powershell
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

ูุซุงู ุนูู ุงูุฅุฎุฑุงุฌ:
```
k7mN9pQ2rT5vX8zA3bC6dF1gH4jL0mP9sU2wY5eR8tI1oK4nM7qS0vZ3xA6cE9fH
```

ุงูุณุฎ ูุฐู ุงููููุฉ ูุงูุตููุง ูู `SECRET_KEY` ุงูุฎุงุต ุจู.

---

## ๐ ุชูุฏูุฑ ุงูุชูููุฉ

ุฅููู ูุง ุณุชุฏูุนู ุชูุฑูุจุงู (ุงุนุชุจุงุฑุงู ูู ููููุจุฑ 2024):

| ุงูููุฑุฏ | ุงูุชูููู | ุงูุชูููุฉ ุงูุดูุฑูุฉ ุงูููุฏุฑุฉ |
|----------|--------------|----------------------|
| PostgreSQL Flexible Server | B1ms (ูุงุจู ููุงูุฏูุงุนุ 1 ููุงุฉุ 2 ุฌูุฌุงุจุงูุช ุฑุงูุ 32 ุฌูุฌุงุจุงูุช ุชุฎุฒูู) | ~12 ุฏููุงุฑ ุฃูุฑููู |
| Azure OpenAI | ุงูุฏูุน ููู ุฑูุฒ (text-embedding-3-small) | ~0.10-5 ุฏููุงุฑ ุฃูุฑููู (ุงุณุชุฎุฏุงู ุฎููู) |
| Azure OpenAI | ุงูุฏูุน ููู ุฑูุฒ (gpt-4o-mini) | ~1-10 ุฏููุงุฑ ุฃูุฑููู (ุงุณุชุฎุฏุงู ุฎููู) |
| **ุงูุฅุฌูุงูู** | | **~13-27 ุฏููุงุฑ ุฃูุฑููู/ุดูุฑ** |

๐ก **ูุตูุญุฉ**: ูู ุจุฅุนุฏุงุฏ **ุชูุจููุงุช ุชูููุฉ Azure**:
- ุงูุชูู ุฅูู **Cost Management + Billing** (ุฅุฏุงุฑุฉ ุงูุชูููุฉ + ุงูููุชุฑุฉ)
- ุฃูุดุฆ **ููุฒุงููุฉ (Budget)** ูุน ุชูุจูู ุนูุฏ 20 ุฏููุงุฑ ูุชุฌูุจ ุงูููุงุฌุขุช

---

## โ ูุงุฆูุฉ ุงูุชุญูู

ูุจู ุงููุชุงุจุนุฉ ุฅูู ุงูููุฏุ ุชุญูู ูู:

- [ ] ุชู ุฅูุดุงุก ูุฌููุนุฉ ุงูููุงุฑุฏ: `vote-ai-resources`
- [ ] ุฎุงุฏู PostgreSQL Flexible ูุนูู
- [ ] ุฌุฏุงุฑ ุญูุงูุฉ PostgreSQL ูุณูุญ ุจุนููุงู IP ุงูุฎุงุต ุจู
- [ ] ุชู ุชูุนูู ุงูุชุฏุงุฏ pgvector
- [ ] ุชู ูุณุฎ ุณูุณูุฉ ุงุชุตุงู DATABASE_URL ุฅูู `.env`
- [ ] ุชู ุฅูุดุงุก ููุฑุฏ Azure OpenAI
- [ ] ุชู ูุดุฑ ูููุฐุฌ `text-embedding-3-small`
- [ ] ุชู ูุดุฑ ูููุฐุฌ `gpt-4o-mini` (ุงุฎุชูุงุฑู)
- [ ] ุชู ูุณุฎ ููุชุงุญ API ูููุทุฉ ุงูููุงูุฉ ุฅูู `.env`
- [ ] ุชู ุชูููุฏ SECRET_KEY ูุฅุถุงูุชู ุฅูู `.env`
- [ ] ุชู ุงุฎุชุจุงุฑ ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจู psql (ุงุฎุชูุงุฑู)

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

### ุงููุดููุฉ: ูุง ูููู ุงูุงุชุตุงู ุจู PostgreSQL ูู ุงูุฌูุงุฒ ุงููุญูู

**ุงูุญู**:
1. ุงูุชูู ุฅูู ุฎุงุฏู PostgreSQL ุงูุฎุงุต ุจู ูู ุจูุงุจุฉ Azure
2. ุงููุฑ ุนูู **"Networking"** (ุงูุดุจูุงุช) ุชุญุช ุงูุฅุนุฏุงุฏุงุช
3. ุชุญูู ูู ุฅุฏุฑุงุฌ ุนููุงู IP ุงูุฎุงุต ุจู ุชุญุช **Firewall rules** (ููุงุนุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ)
4. ุฅุฐุง ูู ููู ูุฐููุ ุงููุฑ ุนูู **"+ Add current client IP address"** (+ ุฅุถุงูุฉ ุนููุงู IP ุงูุญุงูู ููุนููู)
5. ุงููุฑ ุนูู **"Save"** (ุญูุธ)

### ุงููุดููุฉ: "ุงูุงุดุชุฑุงู ุบูุฑ ูุณุฌู ูุงุณุชุฎุฏุงู ูุณุงุญุฉ ุงูุงุณู 'Microsoft.DBforPostgreSQL'"

**ุงูุญู**:
1. ุงูุชูู ุฅูู **"Subscriptions"** (ุงูุงุดุชุฑุงูุงุช) ูู ุจูุงุจุฉ Azure
2. ุงุฎุชุฑ ุงุดุชุฑุงูู
3. ุงููุฑ ุนูู **"Resource providers"** (ูููุฑู ุงูููุงุฑุฏ)
4. ุงุจุญุซ ุนู `Microsoft.DBforPostgreSQL`
5. ุงููุฑ ุนูู **"Register"** (ุชุณุฌูู)
6. ุงูุชุธุฑ 5 ุฏูุงุฆู ูุญุงูู ูุฑุฉ ุฃุฎุฑู

### ุงููุดููุฉ: "Azure OpenAI ุบูุฑ ูุชููุฑ ูู ุงูููุทูุฉ ุงููุญุฏุฏุฉ"

**ุงูุญู**:
- ุงุญุฐู ุงูููุฑุฏ
- ุฃุนุฏ ุฅูุดุงุกู ูู **East US** ุฃู **West Europe** (ุชูุงูุฑ ูุถููู)

### ุงููุดููุฉ: "ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููููุฐุฌ text-embedding-3-small"

**ุงูุญู**:
- ูุฏ ูููู ููุฐุง ุงููููุฐุฌ ุงุณู ูุฎุชูู ูู ููุทูุชู
- ูู Azure OpenAI Studio โ Deployments (ุนูููุงุช ุงููุดุฑ) โ Create (ุฅูุดุงุก)
- ุงุจุญุซ ุนู ููุงุฐุฌ ุชุญุชูู ุนูู "embedding" ูู ุงูุงุณู
- ุจุฏุงุฆู ุดุงุฆุนุฉ: `text-embedding-ada-002`
- ุญุฏูุซ ููู `.env` ุงูุฎุงุต ุจู ุจุงุณู ุงููุดุฑ ุงููุนูู

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจูุฌุฑุฏ ุฅููุงู ุฌููุน ุงูุฎุทูุงุช ุฃุนูุงู:

1. โ ุชุญูู ูู ุฌููุน ุงูููู ูู `backend/.env`
2. โ ุงุฎุชุจุฑ ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. โ ุงูุชูู ุฅูู **ุงูุฎุทูุฉ 4: ูุชุงุจุฉ ููุฏ ุงููุตุงุฏูุฉ**

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- [ูุซุงุฆู Azure PostgreSQL](https://learn.microsoft.com/ar-sa/azure/postgresql/)
- [ูุซุงุฆู Azure OpenAI](https://learn.microsoft.com/ar-sa/azure/ai-services/openai/)
- [ุฏููู ุงูุชุฏุงุฏ pgvector](https://github.com/pgvector/pgvector)
- [ุฅุฏุงุฑุฉ ุชูููุฉ Azure](https://learn.microsoft.com/ar-sa/azure/cost-management-billing/)

---

**ุฌุงูุฒุ** ุจูุฌุฑุฏ ุฅุนุฏุงุฏ ููุงุฑุฏ Azure ูุชูููู `.env`ุ ูููููุง ุงูุจุฏุก ูู ูุชุงุจุฉ ููุฏ ุงููุตุงุฏูุฉ! ๐
